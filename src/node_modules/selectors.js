import R from 'ramda';

export const getPhone = (phones,id) =>{
    let result=null;
    for (let key in phones){
        let phone = phones[key];
        if (phone.id === id){
            result = phone; break;
        }
    }
    return result;
}

export const getPhones = state => {
    const applySearch = item => R.contains(
      state.phonesPage.search,
      R.prop('name', item)
    )
    const phones = R.compose(
      R.filter(applySearch),
      R.map(id => getPhone(state.phones, id))
    )(state.phonesPage.ind)
  
    return phones
  }
  

export const getTotalBasketCount = state => R.length(state.basket)

export const getTotalBasketPrice = state => {

    const totalPrice = R.compose(
      R.sum,
      R.pluck('price'),
      R.map(id => getPhone(state.phones, id))
    )(state.basket)
  
    return totalPrice
  }
  